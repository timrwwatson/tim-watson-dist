<!DOCTYPE html><html lang="en" class="scroll-smooth"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="canonical" href="https://tim-watson.com/posts/building-a-python-project/"><meta name="generator" content="Astro v4.16.18"><!-- General Meta Tags --><title>Building a Python Project | Tim Watson&#39;s Blog</title><meta name="title" content="Building a Python Project | Tim Watson's Blog"><meta name="description" content="Creating a Python project and going through the necessary steps to make it reusable."><meta name="author" content="Tim Watson"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:title" content="Building a Python Project | Tim Watson's Blog"><meta property="og:description" content="Creating a Python project and going through the necessary steps to make it reusable."><meta property="og:url" content="https://tim-watson.com/posts/building-a-python-project/"><meta property="og:image" content="https://tim-watson.com/"><!-- Article Published/Modified time --><meta property="article:published_time" content="2025-01-02T20:00:35.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://tim-watson.com/posts/building-a-python-project/"><meta property="twitter:title" content="Building a Python Project | Tim Watson's Blog"><meta property="twitter:description" content="Creating a Python project and going through the necessary steps to make it reusable."><meta property="twitter:image" content="https://tim-watson.com/"><!-- Google Font --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap" rel="preload" as="style" onload="this.onload=null; this.rel='stylesheet';" crossorigin><meta name="theme-color" content=""><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script src="/toggle-theme.js" async></script><link rel="stylesheet" href="/_astro/about.BeAbQF3Z.css">
<style>a:where(.astro-blwjyjpt){position:relative;text-decoration-line:underline;text-decoration-style:dashed}a:where(.astro-blwjyjpt):hover{top:-.125rem;--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity, 1))}a:where(.astro-blwjyjpt):focus-visible{padding:.25rem}a:where(.astro-blwjyjpt) svg:where(.astro-blwjyjpt){margin-right:-1rem;height:1.25rem;width:1.25rem;--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-text-opacity: 1;color:rgba(var(--color-text-base),var(--tw-text-opacity, 1));opacity:.7}.group:where(.astro-blwjyjpt):hover a:where(.astro-blwjyjpt) svg:where(.astro-blwjyjpt){fill:rgb(var(--color-accent))}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
main:where(.astro-vj4tpspi){margin-left:auto;margin-right:auto;width:100%;max-width:80rem;padding-left:1rem;padding-right:1rem;padding-bottom:3rem}.post-title:where(.astro-vj4tpspi){font-size:1.5rem;line-height:2rem;font-weight:600;--tw-text-opacity: 1;color:rgba(var(--color-accent),var(--tw-text-opacity, 1))}
</style><script type="module" src="/_astro/hoisted.VFObjY0O.js"></script><style>[data-astro-transition-scope="astro-plk3gbjq-1"] { view-transition-name: building-a-python-project; }@layer astro { ::view-transition-old(building-a-python-project) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(building-a-python-project) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(building-a-python-project) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(building-a-python-project) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-plk3gbjq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-plk3gbjq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-2"] { view-transition-name: python; }@layer astro { ::view-transition-old(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(python) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-3"] { view-transition-name: toml; }@layer astro { ::view-transition-old(toml) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(toml) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(toml) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(toml) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-4"] { view-transition-name: setuptools; }@layer astro { ::view-transition-old(setuptools) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(setuptools) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(setuptools) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(setuptools) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-4"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body>  <header class="astro-3ef6ksr2"> <a id="skip-to-content" href="#main-content" class="astro-3ef6ksr2">Skip to content</a> <div class="nav-container astro-3ef6ksr2"> <div class="top-nav-wrap astro-3ef6ksr2"> <a href="/" class="logo whitespace-nowrap astro-3ef6ksr2"> Tim Watson&#39;s Blog </a> <nav id="nav-menu" class="astro-3ef6ksr2"> <button class="hamburger-menu focus-outline astro-3ef6ksr2" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="menu-icon astro-3ef6ksr2"> <line x1="7" y1="12" x2="21" y2="12" class="line astro-3ef6ksr2"></line> <line x1="3" y1="6" x2="21" y2="6" class="line astro-3ef6ksr2"></line> <line x1="12" y1="18" x2="21" y2="18" class="line astro-3ef6ksr2"></line> <line x1="18" y1="6" x2="6" y2="18" class="close astro-3ef6ksr2"></line> <line x1="6" y1="6" x2="18" y2="18" class="close astro-3ef6ksr2"></line> </svg> </button> <ul id="menu-items" class="display-none sm:flex astro-3ef6ksr2"> <li class="astro-3ef6ksr2"> <a href="/about/" class=" astro-3ef6ksr2">
About
</a> </li> <li class="astro-3ef6ksr2"> <a href="/posts/" class=" astro-3ef6ksr2">
Posts
</a> </li> <li class="astro-3ef6ksr2"> <a href="/tags/" class=" astro-3ef6ksr2">
Tags
</a> </li> <li class="astro-3ef6ksr2"> <a href="/archives/" class="group inline-block hover:text-skin-accent focus-outline flex justify-center p-3 sm:p-1 astro-3ef6ksr2" aria-label="archives" title="Archives"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icons-tabler-outline !hidden sm:!inline-block astro-3ef6ksr2">  <path stroke="none" d="M0 0h24v24H0z" fill="none" class="astro-3ef6ksr2"></path> <path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" class="astro-3ef6ksr2"></path> <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" class="astro-3ef6ksr2"></path> <path d="M10 12l4 0" class="astro-3ef6ksr2"></path>  </svg> <span class="sm:sr-only astro-3ef6ksr2">
Archives
</span> </a> </li> <li class="astro-3ef6ksr2"> <a href="/search/" class="group inline-block hover:text-skin-accent focus-outline p-3 sm:p-1 flex astro-3ef6ksr2" aria-label="search" title="Search"> <svg xmlns="http://www.w3.org/2000/svg" class="scale-125 sm:scale-100 astro-3ef6ksr2"><path d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z" class="astro-3ef6ksr2"></path> </svg> <span class="sr-only astro-3ef6ksr2">Search</span> </a> </li> <li class="astro-3ef6ksr2"> <button id="theme-btn" class="focus-outline astro-3ef6ksr2" title="Toggles light & dark" aria-label="auto" aria-live="polite"> <svg xmlns="http://www.w3.org/2000/svg" id="moon-svg" class="astro-3ef6ksr2"> <path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z" class="astro-3ef6ksr2"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" id="sun-svg" class="astro-3ef6ksr2"> <path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z" class="astro-3ef6ksr2"></path> </svg> </button> </li> </ul> </nav> </div> </div> <div class="max-w-7xl mx-auto px-4"> <hr class="border-skin-line" aria-hidden="true"> </div> </header>   <div class="mx-auto flex w-full max-w-7xl justify-start px-2 astro-vj4tpspi"> <button class="focus-outline mb-2 mt-8 flex hover:opacity-75 astro-vj4tpspi" onclick="(() => (history.length === 1) ? window.location = '/' : history.back())()"> <svg xmlns="http://www.w3.org/2000/svg" class="astro-vj4tpspi"><path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" class="astro-vj4tpspi"></path> </svg><span class="astro-vj4tpspi">Go back</span> </button> </div> <main id="main-content" class="astro-vj4tpspi"> <h1 class="post-title inline-block astro-vj4tpspi" data-astro-transition-scope="astro-plk3gbjq-1">Building a Python Project</h1> <div class="flex items-center space-x-2 opacity-80 my-2 astro-vj4tpspi"><svg xmlns="http://www.w3.org/2000/svg" class="scale-100 inline-block h-6 w-6 min-w-[1.375rem] fill-skin-base" aria-hidden="true"><path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"></path><path d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"></path></svg><span class="sr-only">Published:</span><span class="italic text-base"><time dateTime="2025-01-02T20:00:35.000Z">Jan 2, 2025</time><span aria-hidden="true"> | </span><span class="sr-only"> at </span><span class="text-nowrap">08:00 PM</span></span></div> <article id="article" class="prose mx-auto mt-8 max-w-7xl astro-vj4tpspi"> <h2 id="table-of-contents">Table of contents</h2>
<p></p><details><summary>Open Table of contents</summary><p></p>
<ul>
<li><a href="#aim">Aim</a></li>
<li><a href="#virtual-environments">Virtual Environments</a></li>
<li><a href="#setuptools">Setuptools</a>
<ul>
<li><a href="#vscode-extensions">VSCode extensions</a></li>
<li><a href="#one-file-to-rule-them-all">One file to rule them all</a></li>
</ul>
</li>
<li><a href="#file-layout">File Layout</a>
<ul>
<li><a href="#entry-points">Entry points</a></li>
</ul>
</li>
<li><a href="#other-tools-in-the-toml-file">Other tools in the toml file</a></li>
<li><a href="#pre-commit">pre-commit</a></li>
<li><a href="#wrapping-up">Wrapping Up</a></li>
</ul>
<p></p></details><p></p>
<h2 id="aim">Aim</h2>
<p>Creating Python projects that are clean and import correctly should be relatively easy. But the tools and other dependencies around this have changed somewhat. So let’s step through creating a really simple project.</p>
<h2 id="virtual-environments">Virtual Environments</h2>
<p>First things first, whenever interacting with Python it is pretty much a given that a virtual environment should be used. So let’s create one in our working directory.</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">python </span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">m venv venv</span></span>
<span class="line"></span></code></pre>
<h2 id="setuptools">Setuptools</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=7a8WrmraBfE">Heavily influenced by this guide (YouTube)</a></li>
<li><a href="https://setuptools.pypa.io/en/latest/references/keywords.html">Setuptools keywords</a></li>
<li><a href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/">Writing pyproject toml</a></li>
<li><a href="https://stackoverflow.com/questions/69647590/specifying-package-data-in-pyproject-toml">Defining src in setuptools</a></li>
<li><a href="https://blog.phle.dev/posts/python-setup-2024/index.html">Alternate entry points</a></li>
</ul>
<p>In previous versions of Python there have been tools such as <code>distutils</code> and files like <code>setup.py</code> that define how projects are installed or packaged together. In fact working out the best way of creating a solution sometimes isn’t always entirely obvious as the landscape has changed quite a lot. With Python 3.12, <a href="https://docs.python.org/3/library/distutils.html">distutils</a> was removed so using one of the newer methods is now required (explained in the YouTube guide linked above). The preferred method will likely use a <code>pyproject.toml</code> file and the advantage of this (amongst others) is most of the setup and project related tools can all be setup and configured from this one centralised file.</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">build</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">system</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">requires </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD"> [</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#22863A;--shiki-dark:#ECC48D">setuptools</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#212121;--shiki-dark:#D6DEEB">,</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">setuptools-scm</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">build</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">backend </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">setuptools.build_meta</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"></span></code></pre>
<p>To start with, the file itself is effectively just a collection of definitions and any tools you are going to use can read it to find out what options you have specified. For build and project related settings we will define those using the appropriate definitions inside square brackets, see above. The above snippet defines that our build system will use <code>setuptools</code>; in older versions of Python this would have required other pip installs/dependencies to be met.</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">project</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">name </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">example_project</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">description </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">creating an example python project template</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">version </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">0.0.1</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">requires</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">python </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">>=3.12.0</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">dynamic </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD"> [</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#22863A;--shiki-dark:#ECC48D">dependencies</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">readme </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">README.md</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"></span></code></pre>
<p>We can then set up a “project”, give it a name, describe it and give it other keywords. See the link above for other useful keywords.</p>
<h3 id="vscode-extensions">VSCode extensions</h3>
<p>When writing <code>toml</code> files, especially in vscode, it might be worth installing parsers such as <code>Even Better TOML</code> that will give hints and syntax highlighting.</p>
<h3 id="one-file-to-rule-them-all">One file to rule them all</h3>
<p>Notice above where the line has <code>dynamic = ["dependencies"]</code>, this is for a subsequent line:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">tool</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">setuptools</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">dynamic</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">dependencies </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#212121;--shiki-dark:#D6DEEB"> {</span><span style="color:#24292EFF;--shiki-dark:#C5E478"> file</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> = </span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#22863A;--shiki-dark:#ECC48D">requirements.txt</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span><span style="color:#212121;--shiki-dark:#D6DEEB"> }</span></span>
<span class="line"></span></code></pre>
<p>As you might expect, this works as in previous <code>setup.py</code> or projects where it specifies a requirements file to install from. So by defining the project as dynamic you can <strong>dynamically</strong> specify the requirements file.</p>
<p>However, you can “just” specify the requirements inline:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">project</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">name </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">example_project</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">description </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">creating an example python project template</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">version </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">0.0.1</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">requires</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">python </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">>=3.12.0</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">#dynamic = ["dependencies"]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">readme </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">README.md</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">dependencies </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD"> [</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#D9F5DD">    "</span><span style="color:#22863A;--shiki-dark:#ECC48D">pandas</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#212121;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"></span></code></pre>
<p>See the writing pyproject <code>toml</code> link above, this gives another example with version pinning.</p>
<h2 id="file-layout">File Layout</h2>
<p>Having gone over the quick basics of the <code>pyproject.toml</code> file, let’s create a project.</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">├───example_python_project</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">│</span><span style="color:#2B5581;--shiki-dark:#ECC48D">   └───src</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#7FDBCA">|</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">        └───example_project</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#7FDBCA">|</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">             └───other_folder</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#7FDBCA">|</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">                    └───example_from_other.py</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#7FDBCA">|</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">             └───utilities</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#7FDBCA">|</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">                    └───example.py</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#7FDBCA">|</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">             ├───__main__.py</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">├───venv</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">├───pyproject.toml</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">├───README.md</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> </span></span>
<span class="line"></span></code></pre>
<p>In this example, like in our examples of a <code>pyproject.toml</code> above, our project is called “example_project”. This means that when we install this project the build system will look for a project with that name. In the above videos, you can either define your source folder as your project name or you can put your project folder inside a <code>src</code> folder, depending on how you want to layout your code. Following the above layout you will need to define a further option in your toml file:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">tool</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">setuptools</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">packages</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">find</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">where </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD"> [</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#22863A;--shiki-dark:#ECC48D">src</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"></span></code></pre>
<p>Now <code>setuptools</code> will look for our project (“example_project”) inside the <code>src</code> directory.</p>
<h3 id="entry-points">Entry points</h3>
<p>Notice the file <code>__main__.py</code>, this can be used in different ways to invoke your Python project:</p>
<ul>
<li><code>python -m example_project</code> # invoke the module via PATH</li>
<li><code>python example_project</code> # invoke it from current working directory</li>
</ul>
<p>However, if you don’t have this file, you will get an error such as:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">No module named example_project</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">__main__; </span><span style="color:#22863A;--shiki-dark:#D9F5DD">'</span><span style="color:#22863A;--shiki-dark:#ECC48D">example_project</span><span style="color:#22863A;--shiki-dark:#D9F5DD">'</span><span style="color:#D32F2F;--shiki-dark:#C792EA"> is</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> a package </span><span style="color:#D32F2F;--shiki-dark:#C792EA">and</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> cannot be directly executed</span></span>
<span class="line"></span></code></pre>
<p>Depending on how you want to setup your project or what it is doing, you may not run from a <code>__main__.py</code> file. To get around this, you can define an entry point in an <code>__init__.py</code> file:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic"># Inside __init__.py</span></span>
<span class="line"><span style="color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">from</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> example_project </span><span style="color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">import</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> main</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">main</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#6F42C1;--shiki-dark:#B2CCD6">main</span><span style="color:#212121;--shiki-dark:#D6DEEB">()</span></span>
<span class="line"></span></code></pre>
<p>But this gets us back to adding more files and making the project more complicated. It also means that you will likely not be able to invoke the code via the <code>python -m...</code> syntax above. Instead, I believe the best way of formatting projects is to stick with the <code>__main__</code> convention or only define specific entry points:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">project</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">scripts</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">example </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">example_project.__main__:main</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"></span></code></pre>
<p>The above allows for the code to be ran on the command line via: “example”.</p>
<h2 id="other-tools-in-the-toml-file">Other tools in the toml file</h2>
<p>As aluded to earlier, the <code>pyproject.toml</code> can be used by a range of tools to define project specific rules or options. An example would be:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">tool</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">black</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">line</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">length </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 120</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">tool</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">pylint</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#C5E478">max</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">line</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">length </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 120</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">[</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">tool</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">tox</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">legacy_tox_ini </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> """</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">[tox]</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">envlist =</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">    py312</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">[testenv]</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">deps = </span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">    black</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">commands = </span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#ECC48D">    black . --check</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#D9F5DD">"""</span></span>
<span class="line"></span></code></pre>
<p>The above defines line lengths for two tools (<code>black</code> and <code>pylint</code>) and then for a testing tool <code>tox</code> it defines a Python environment to create and then what commands to run. In this case just <code>black</code>. As is the pattern, the tox configuration can either be defined in a separate file or inline/in the <code>toml</code> file by using the keyword: <code>legacy_tox_ini</code>. According to the <a href="https://tox.wiki/en/3.26.0/example/basic.html">docs</a> this will be updated in the future.</p>
<h2 id="pre-commit">pre-commit</h2>
<p>Finally, one of the most if not <em>the</em> most important tool in a Python project (and any project) is most likely <code>pre-commit</code>. Code sanity or quality checks that should be ran before any code is pushed remotely, are done automatically by <code>pre-commit</code> without needing to be invoked manually.</p>
<p><a href="https://stefaniemolin.com/articles/devx/pre-commit/setup-guide/">Setting up pre-commit</a></p>
<p>The first step is that your Python virtual environment needs to have <code>pre-commit</code>. This should be a simple update for our <code>toml</code> file dependencies section:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">dependencies </span><span style="color:#D32F2F;--shiki-dark:#C792EA">=</span><span style="color:#24292EFF;--shiki-dark:#D9F5DD"> [</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#D9F5DD">    "</span><span style="color:#22863A;--shiki-dark:#ECC48D">pre-commit</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D9F5DD">]</span></span>
<span class="line"></span></code></pre>
<p>Next, we need a <code>.pre-commit-config.yaml</code> file to define what checks to run:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">repos</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">  -</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> repo</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> https</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#D32F2F;--shiki-dark:#C792EA">//</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">github</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">com</span><span style="color:#D32F2F;--shiki-dark:#C792EA">/</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">pre</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">commit</span><span style="color:#D32F2F;--shiki-dark:#C792EA">/</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">pre</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">commit</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">hooks</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">    rev</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> v4</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">5</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">0</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">    hooks</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">      -</span><span style="color:#6F42C1;--shiki-dark:#C5E478"> id</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> check</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">toml</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">      -</span><span style="color:#6F42C1;--shiki-dark:#C5E478"> id</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> check</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">yaml</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">      -</span><span style="color:#6F42C1;--shiki-dark:#C5E478"> id</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> end</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">of</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#C5E478">file</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">fixer</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">      -</span><span style="color:#6F42C1;--shiki-dark:#C5E478"> id</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> trailing</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">whitespace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">  -</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> repo</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> https</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#D32F2F;--shiki-dark:#C792EA">//</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">github</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">com</span><span style="color:#D32F2F;--shiki-dark:#C792EA">/</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">psf</span><span style="color:#D32F2F;--shiki-dark:#C792EA">/</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">black</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">pre</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">commit</span><span style="color:#D32F2F;--shiki-dark:#C792EA">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">mirror</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">    rev</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 24.8</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">0</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">    hooks</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#C792EA">      -</span><span style="color:#6F42C1;--shiki-dark:#C5E478"> id</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> black</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">        language_version</span><span style="color:#212121;--shiki-dark:#D6DEEB">:</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB"> python3</span><span style="color:#212121;--shiki-dark:#D6DEEB">.</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">12</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>The example in the above guide gives some pretty good and generic project checkers as well as this <a href="https://black.readthedocs.io/en/stable/integrations/source_version_control.html">link</a> explains how to add <code>black</code> to <code>pre-commit</code>. Above we have added these checks to a <code>pre-commit-config.yaml</code> file.</p>
<p>The only thing we need to run now is <code>pre-commit install</code> and this will create and install the relevant folders inside the <code>.git</code> folder.</p>
<p>After doing this, running a <code>git commit</code> command should invoke <code>pre-commit</code> and anything that goes wrong should get flagged…</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">check</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> toml...............................................................Passed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">check</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> yaml...............................................................Passed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">fix</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> end</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> of</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files.........................................................Failed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> hook</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> id:</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> end-of-file-fixer</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> exit</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> code:</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 1</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> were</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> modified</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> by</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> this</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> hook</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">Fixing</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> .pre-commit-config.yaml</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">Fixing</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> pyproject.toml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">trim</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> trailing</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> whitespace.................................................Failed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> hook</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> id:</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> trailing-whitespace</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> exit</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> code:</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 1</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> were</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> modified</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> by</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> this</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> hook</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">Fixing</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> .pre-commit-config.yaml</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">Fixing</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> pyproject.toml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">black................................................(no</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> to</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> check</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">)Skipped</span></span>
<span class="line"></span></code></pre>
<p>Depending on the hooks used, some will attempt to fix the issues themselves but once the issues are fixed and another commit is ran it should pass:</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">(</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">venv</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">) </span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">PS</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> ...</span><span style="color:#24292EFF;--shiki-dark:#F78C6C">\e</span><span style="color:#2B5581;--shiki-dark:#ECC48D">xample_python_projec</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">t</span><span style="color:#D32F2F;--shiki-dark:#7FDBCA">></span><span style="color:#2B5581;--shiki-dark:#ECC48D"> git</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> commit</span><span style="color:#2B5581;--shiki-dark:#82AAFF"> -m</span><span style="color:#22863A;--shiki-dark:#D9F5DD"> "</span><span style="color:#22863A;--shiki-dark:#ECC48D">add pre-commit</span><span style="color:#22863A;--shiki-dark:#D9F5DD">"</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">check</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> toml...............................................................Passed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">check</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> yaml...............................................................Passed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">fix</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> end</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> of</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files.........................................................Passed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">trim</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> trailing</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> whitespace.................................................Passed</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">black................................................(no</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> to</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> check</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">)Skipped</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#D6DEEB">[main 7539de2] add pre-commit</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> 2</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> files</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> changed,</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 20</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> insertions</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">(</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">+</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">)</span><span style="color:#2B5581;--shiki-dark:#ECC48D">,</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 5</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> deletions</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">(</span><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">-</span><span style="color:#24292EFF;--shiki-dark:#D6DEEB">)</span></span>
<span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> create</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> mode</span><span style="color:#1976D2;--shiki-dark:#F78C6C"> 100644</span><span style="color:#2B5581;--shiki-dark:#ECC48D"> .pre-commit-config.yaml</span></span>
<span class="line"></span></code></pre>
<h2 id="wrapping-up">Wrapping Up</h2>
<p>With the newer versions of Python, using IDE tools and focusing on utilising the <code>pyproject.toml</code> file to centralise configuration, Python projects can be relatively easily set up and distributed reliably. Other tools can then be added which will aid in code quality such as <code>pre-commit</code>. Further to what was shown here, it should be relatively easy to add a testing folder and extend the project using <code>tox</code> (for example).</p>
<p>The example project code is <a href="https://github.com/timrwwatson/example_python">here</a>.</p> </article> <ul class="my-8 astro-vj4tpspi"> <li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"> <a href="/tags/python/" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-2"> <svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path> </svg>
&nbsp;<span class="astro-blwjyjpt">python</span> </a> </li> <li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"> <a href="/tags/toml/" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-3"> <svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path> </svg>
&nbsp;<span class="astro-blwjyjpt">toml</span> </a> </li> <li class="inline-block my-1 underline-offset-4 astro-blwjyjpt"> <a href="/tags/setuptools/" class="text-sm pr-2 group astro-blwjyjpt" data-astro-transition-scope="astro-36ssibgs-4"> <svg xmlns="http://www.w3.org/2000/svg" class=" scale-75 astro-blwjyjpt"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-blwjyjpt"></path> </svg>
&nbsp;<span class="astro-blwjyjpt">setuptools</span> </a> </li>  </ul> <div class="flex flex-col-reverse items-center justify-between gap-6 sm:flex-row-reverse sm:items-end sm:gap-4 astro-vj4tpspi"> <div class="flex justify-end astro-vj4tpspi"> <button id="back-to-top" class="focus-outline whitespace-nowrap py-1 hover:opacity-75 astro-vj4tpspi"> <svg xmlns="http://www.w3.org/2000/svg" class="rotate-90 astro-vj4tpspi"> <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" class="astro-vj4tpspi"></path> </svg> <span class="astro-vj4tpspi">Back to Top</span> </button> <!--<ShareLinks />--> </div> <hr class="my-6 border-dashed astro-vj4tpspi"> <!-- Previous/Next Post Buttons --> <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 astro-vj4tpspi">  <a href="/posts/building-a-cpp-program" class="flex w-full justify-end gap-1 text-right hover:opacity-75 sm:col-start-2 astro-vj4tpspi"> <div class="astro-vj4tpspi"> <span class="astro-vj4tpspi">Next Post</span> <div class="text-sm text-skin-accent/85 astro-vj4tpspi">Building a C++ Program</div> </div> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-right flex-none astro-vj4tpspi">  <path stroke="none" d="M0 0h24v24H0z" fill="none" class="astro-vj4tpspi"></path> <path d="M9 6l6 6l-6 6" class="astro-vj4tpspi"></path>  </svg> </a> </div> </div></main> <footer class="mt-auto astro-sz7xmlte"> <div class="max-w-7xl mx-auto px-0"> <hr class="border-skin-line" aria-hidden="true"> </div> <div class="footer-wrapper astro-sz7xmlte"> <div class="social-icons flex astro-upu6fzxr"> <a href="https://github.com/timrwwatson" class="group inline-block hover:text-skin-accent link-button astro-upu6fzxr" title=" Tim Watson on Github"> <svg
    xmlns="http://www.w3.org/2000/svg"
    class="icon-tabler"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <path
      d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
    ></path>
  </svg> <span class="sr-only astro-upu6fzxr"> Tim Watson on Github</span> </a><a href="https://www.linkedin.com/in/timothy-r-w-watson/" class="group inline-block hover:text-skin-accent link-button astro-upu6fzxr" title="Tim Watson on LinkedIn"> <svg
    xmlns="http://www.w3.org/2000/svg"
    class="icon-tabler"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <rect x="4" y="4" width="16" height="16" rx="2"></rect>
    <line x1="8" y1="11" x2="8" y2="16"></line>
    <line x1="8" y1="8" x2="8" y2="8.01"></line>
    <line x1="12" y1="16" x2="12" y2="11"></line>
    <path d="M16 16v-3a2 2 0 0 0 -4 0"></path>
  </svg> <span class="sr-only astro-upu6fzxr">Tim Watson on LinkedIn</span> </a><a href="mailto:contact@tim-watson.com" class="group inline-block hover:text-skin-accent link-button astro-upu6fzxr" title="Send an email to Tim Watson"> <svg
      xmlns="http://www.w3.org/2000/svg"
      class="icon-tabler"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <rect x="3" y="5" width="18" height="14" rx="2"></rect>
      <polyline points="3 7 12 13 21 7"></polyline>
    </svg> <span class="sr-only astro-upu6fzxr">Send an email to Tim Watson</span> </a> </div>  <div class="copyright-wrapper astro-sz7xmlte"> <span class="astro-sz7xmlte">Copyright &#169; 2025</span> <span class="separator astro-sz7xmlte">&nbsp;|&nbsp;</span> <span class="astro-sz7xmlte">All rights reserved.</span> </div> </div> </footer>   </body></html>  <script data-astro-rerun>
  /** Create a progress indicator
   *  at the top */
   function createProgressBar() {
    // Create the main container div
    const progressContainer = document.createElement("div");
    progressContainer.className =
      "progress-container fixed top-0 z-10 h-1 w-full bg-skin-fill";

    // Create the progress bar div
    const progressBar = document.createElement("div");
    progressBar.className = "progress-bar h-1 w-0 bg-skin-accent";
    progressBar.id = "myBar";

    // Append the progress bar to the progress container
    progressContainer.appendChild(progressBar);

    // Append the progress container to the document body or any other desired parent element
    document.body.appendChild(progressContainer);
  }
  createProgressBar();

  /** Update the progress bar
   *  when user scrolls */
  function updateScrollProgress() {
    document.addEventListener("scroll", () => {
      const winScroll =
        document.body.scrollTop || document.documentElement.scrollTop;
      const height =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      if (document) {
        const myBar = document.getElementById("myBar");
        if (myBar) {
          myBar.style.width = scrolled + "%";
        }
      }
    });
  }

  updateScrollProgress();
  
  /** Attaches links to headings in the document,
   *  allowing sharing of sections easily */
   function addHeadingLinks() {
    const headings = Array.from(
      document.querySelectorAll("h2, h3, h4, h5, h6")
    );
    for (const heading of headings) {
      heading.classList.add("group");
      const link = document.createElement("a");
      link.className =
        "heading-link ml-2 opacity-0 group-hover:opacity-100 focus:opacity-100";
      link.href = "#" + heading.id;

      const span = document.createElement("span");
      span.ariaHidden = "true";
      span.innerText = "#";
      link.appendChild(span);
      heading.appendChild(link);
    }
  }
  addHeadingLinks();
   /** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
   function attachCopyButtons() {
    const copyButtonLabel = "Copy";
    const codeBlocks = Array.from(document.querySelectorAll("pre"));

    for (const codeBlock of codeBlocks) {
      const wrapper = document.createElement("div");
      wrapper.style.position = "relative";

      const copyButton = document.createElement("button");
      copyButton.className =
        "copy-code absolute right-3 top-1 rounded bg-skin-card px-2 py-1 text-xs leading-4 text-skin-base font-medium";
      copyButton.innerHTML = copyButtonLabel;
      codeBlock.setAttribute("tabindex", "0");
      codeBlock.appendChild(copyButton);

      // wrap codebock with relative parent element
      codeBlock?.parentNode?.insertBefore(wrapper, codeBlock);
      wrapper.appendChild(codeBlock);

      copyButton.addEventListener("click", async () => {
        await copyCode(codeBlock, copyButton);
      });
    }

    async function copyCode(block, button) {
      const code = block.querySelector("code");
      const text = code?.innerText;

      await navigator.clipboard.writeText(text ?? "");

      // visual feedback that task is completed
      button.innerText = "Copied";

      setTimeout(() => {
        button.innerText = copyButtonLabel;
      }, 700);
    }
  }
  attachCopyButtons();


  /** Scrolls the document to the top when
   * the "Back to Top" button is clicked. */
  function backToTop() {
    document.querySelector("#back-to-top")?.addEventListener("click", () => {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    });
  }
  backToTop();
    /* Go to page start after page swap */
    document.addEventListener("astro:after-swap", () =>
    window.scrollTo({ left: 0, top: 0, behavior: "instant" })
  );
</script>